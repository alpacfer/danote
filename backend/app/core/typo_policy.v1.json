{
  "version": "v1",
  "statuses": [
    "known",
    "variation",
    "typo_likely",
    "uncertain",
    "new"
  ],
  "precedence": {
    "exact_known_before_typo": true,
    "lemma_variation_before_typo": true
  },
  "gating": {
    "min_token_length": 3,
    "alphabetic_ratio_min": 0.7,
    "digit_ratio_max": 0.3,
    "skip_regexes": [
      "^[A-Z0-9]{2,}$",
      "^\\S+@\\S+\\.\\S+$",
      "^(https?://|www\\.)\\S+$",
      "^([A-Za-z]:\\\\|/).+"
    ],
    "proper_noun_mid_sentence_bias_to_uncertain": true
  },
  "candidate_generation": {
    "max_candidates": 20,
    "max_edit_distance_by_length": [
      {
        "min_len": 3,
        "max_len": 4,
        "max_distance": 1
      },
      {
        "min_len": 5,
        "max_len": 8,
        "max_distance": 2
      },
      {
        "min_len": 9,
        "max_len": 64,
        "max_distance": 2
      }
    ],
    "source_priority": [
      "user",
      "symspell",
      "hunspell",
      "general"
    ]
  },
  "scoring_weights": {
    "edit_distance": 0.35,
    "rapidfuzz_similarity": 0.25,
    "source_reliability": 0.15,
    "user_frequency": 0.1,
    "general_frequency": 0.05,
    "lemma_family_bonus": 0.07,
    "context_plausibility": 0.03
  },
  "decision_thresholds": {
    "typo_likely_min_confidence": 0.78,
    "uncertain_min_confidence": 0.5,
    "min_top1_top2_margin": 0.08
  },
  "decision_table": [
    {
      "when_all": [
        "exact_match"
      ],
      "status": "known",
      "reason_tags": [
        "exact_match"
      ]
    },
    {
      "when_all": [
        "lemma_match"
      ],
      "status": "variation",
      "reason_tags": [
        "lemma_match"
      ]
    },
    {
      "when_all": [
        "gating_skipped"
      ],
      "status": "new",
      "reason_tags": [
        "gating_skipped"
      ]
    },
    {
      "when_all": [
        "candidate_exists",
        "top_confidence_gte_typo",
        "margin_gte_min"
      ],
      "when_none": [
        "proper_noun_bias"
      ],
      "status": "typo_likely",
      "reason_tags": [
        "candidate_high_confidence",
        "clear_margin"
      ]
    },
    {
      "when_all": [
        "candidate_exists",
        "top_confidence_gte_uncertain"
      ],
      "status": "uncertain",
      "reason_tags": [
        "candidate_medium_confidence"
      ]
    },
    {
      "when_all": [
        "weak_or_no_candidate"
      ],
      "status": "new",
      "reason_tags": [
        "weak_candidate_evidence"
      ]
    }
  ]
}
